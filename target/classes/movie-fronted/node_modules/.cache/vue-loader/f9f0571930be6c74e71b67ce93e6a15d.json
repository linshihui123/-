{"remainingRequest":"D:\\ideaProject\\demo\\src\\main\\resources\\movie-fronted\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ideaProject\\demo\\src\\main\\resources\\movie-fronted\\src\\App.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\ideaProject\\demo\\src\\main\\resources\\movie-fronted\\src\\App.vue","mtime":1769393023584},{"path":"D:\\ideaProject\\demo\\src\\main\\resources\\movie-fronted\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1768463919512},{"path":"D:\\ideaProject\\demo\\src\\main\\resources\\movie-fronted\\node_modules\\vue-loader\\lib\\index.js","mtime":1768463917873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgTW92aWVMaXN0IGZyb20gJy4vY29tcG9uZW50cy9Nb3ZpZUxpc3QudnVlJwppbXBvcnQgTW92aWVCcm93c2UgZnJvbSAnLi9jb21wb25lbnRzL01vdmllQnJvd3NlLnZ1ZScKaW1wb3J0IFVzZXJBdXRoIGZyb20gJy4vY29tcG9uZW50cy9Vc2VyQXV0aC52dWUnCmltcG9ydCBLbm93bGVkZ2VHcmFwaCBmcm9tICcuL2NvbXBvbmVudHMvS25vd2xlZGdlR3JhcGgudnVlJwppbXBvcnQgeyBnZXRSZWNvbW1lbmRNb3ZpZXNQb3N0LCBnZXRNb3ZpZURldGFpbCB9IGZyb20gJy4vYXBpL3JlY29tbWVuZCcKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIE1vdmllTGlzdCwKICAgIE1vdmllQnJvd3NlLAogICAgVXNlckF1dGgsCiAgICBLbm93bGVkZ2VHcmFwaAogIH0sCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHJlY29tbWVuZE1vdmllczogW10sCiAgICAgICAgYWxsTW92aWVzOiBbXSwKICAgICAgICBjdXJyZW50TW92aWVzOiBbXSwgLy8g5b2T5YmN5pi+56S655qE55S15b2x5YiX6KGoCiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgZGV0YWlsRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgICAgc2VsZWN0ZWRNb3ZpZTogbnVsbCwKICAgICAgICBzaG93VGl0bGU6IHRydWUsCiAgICAgICAgYXV0aERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAgIGN1cnJlbnRVc2VyOiBudWxsLAogICAgICAgIGN1cnJlbnRVc2VySWQ6IG51bGwsCiAgICAgICAgYWN0aXZlVGFiOiBudWxsLCAvLyDpu5jorqTkuLpudWxs77yM5pi+56S66aaW6aG1CiAgICAgICAgLy8g55+l6K+G5Zu+6LCx6aKE6KeI55u45YWz5pWw5o2uCiAgICAgICAgZ3JhcGhQcmV2aWV3Tm9kZXM6IFtdLAogICAgICAgIGdyYXBoU3RhdHM6IHsKICAgICAgICAgIG1vdmllczogMCwKICAgICAgICAgIGRpcmVjdG9yczogMCwKICAgICAgICAgIGFjdG9yczogMAogICAgICAgIH0sCiAgICAgICAgLy8g6aaW6aG154m55oCn5YiX6KGoCiAgICAgICAgZmVhdHVyZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgaWQ6IDEsCiAgICAgICAgICAgIGljb246ICdlbC1pY29uLXN0YXItb24nLAogICAgICAgICAgICB0aXRsZTogJ+aZuuiDveaOqOiNkCcsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn5Z+65LqOQUnnrpfms5XnmoTkuKrmgKfljJbmjqjojZAnLAogICAgICAgICAgICBjb2xvcjogJyNlNmEyM2MnCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBpZDogMiwKICAgICAgICAgICAgaWNvbjogJ2VsLWljb24tcy1kYXRhJywKICAgICAgICAgICAgdGl0bGU6ICfnn6Xor4blm77osLEnLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+eUteW9seWFs+ezu+WPr+inhuWMluWxleekuicsCiAgICAgICAgICAgIGNvbG9yOiAnIzQwOWVmZicKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGlkOiAzLAogICAgICAgICAgICBpY29uOiAnZWwtaWNvbi1zZWFyY2gnLAogICAgICAgICAgICB0aXRsZTogJ+aZuuiDveaQnOe0oicsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn5b+r6YCf5om+5Yiw5oKo5oOz55yL55qE55S15b2xJywKICAgICAgICAgICAgY29sb3I6ICcjNjdjMjNhJwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfQogICAgfSwKICBjb21wdXRlZDogewogICAgYXV0aERpYWxvZ1RpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlciA/ICfnlKjmiLfkuK3lv4MnIDogJ+eZu+W9lS/ms6jlhownOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIOWwneivleS7juacrOWcsOWtmOWCqOaBouWkjeeUqOaIt+S8muivnQogICAgdGhpcy5yZXN0b3JlVXNlclNlc3Npb24oKTsKICAgIC8vIOWmguaenOeUqOaIt+acqueZu+W9le+8jOm7mOiupOaYvuekuua1j+iniOmhtemdou+8m+WmguaenOW3sueZu+W9le+8jOm7mOiupOaYvuekuummlumhtQogICAgaWYgKCF0aGlzLmN1cnJlbnRVc2VyKSB7CiAgICAgIHRoaXMuYWN0aXZlVGFiID0gJ2Jyb3dzZSc7CiAgICAgIHRoaXMuaGFuZGxlR2V0QWxsTW92aWVzKHsgcGFnZTogMCwgc2l6ZTogMjAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmgaLlpI3nlKjmiLfkvJror50KICAgIHJlc3RvcmVVc2VyU2Vzc2lvbigpIHsKICAgICAgY29uc3QgdXNlclN0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7CiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgIGlmICh1c2VyU3RyICYmIHVzZXJTdHIgIT09ICd1bmRlZmluZWQnICYmIHVzZXJTdHIgIT09ICdudWxsJyAmJiB0b2tlbikgewogICAgICAgIHRyeSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gSlNPTi5wYXJzZSh1c2VyU3RyKTsKICAgICAgICAgIHRoaXMuY3VycmVudFVzZXJJZCA9IHRoaXMuY3VycmVudFVzZXIudXNlcmlkIHx8IHRoaXMuY3VycmVudFVzZXIuaWQgfHwgdGhpcy5jdXJyZW50VXNlci51c2VySWQ7IC8vIOWwneivleWkmuS4quWPr+iDveeahOWtl+auteWQjQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aBouWkjeeUqOaIt+S8muivneWksei0pScsIGUpOwogICAgICAgICAgdGhpcy5jbGVhclVzZXJTZXNzaW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8vIOa4hemZpOeUqOaIt+S8muivnQogICAgY2xlYXJVc2VyU2Vzc2lvbigpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgIHRoaXMuY3VycmVudFVzZXIgPSBudWxsOwogICAgICB0aGlzLmN1cnJlbnRVc2VySWQgPSBudWxsOwogICAgICB0aGlzLmFjdGl2ZVRhYiA9IG51bGw7IC8vIOi/lOWbnummlumhtQogICAgfSwKCiAgICAvLyDmmL7npLrnmbvlvZXlr7nor53moYYKICAgIHNob3dMb2dpbkRpYWxvZygpIHsKICAgICAgdGhpcy5hdXRoRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAoKICAgIC8vIOWkhOeQhueZu+W9leaIkOWKn+S6i+S7tgogICAgYXN5bmMgaGFuZGxlTG9naW5TdWNjZXNzKHJlc3BvbnNlRGF0YSkgewogICAgICBjb25zb2xlLmxvZygn55m75b2V5Zue6LCD5pWw5o2uOicsIHJlc3BvbnNlRGF0YSk7IC8vIOiwg+ivleaXpeW/lwoKICAgICAgLy8g5ZCO56uv6L+U5Zue55qE5pivUmVzdWx0PFVzZXI+5a+56LGh77yM55u05o6l5LuOcmVzcG9uc2VEYXRhLmRhdGHkuK3mj5Dlj5bnlKjmiLfkv6Hmga8KICAgICAgbGV0IHVzZXIgPSBudWxsOwogICAgICBsZXQgdG9rZW4gPSBudWxsOwoKICAgICAgLy8g5qOA5p+l5piv5ZCm5piv5qCH5YeG55qEUmVzdWx05a+56LGh5qC85byPCiAgICAgIGlmIChyZXNwb25zZURhdGEgJiYgdHlwZW9mIHJlc3BvbnNlRGF0YSA9PT0gJ29iamVjdCcgJiYgcmVzcG9uc2VEYXRhLmRhdGEpIHsKICAgICAgICB1c2VyID0gcmVzcG9uc2VEYXRhLmRhdGE7CiAgICAgICAgdG9rZW4gPSByZXNwb25zZURhdGEudG9rZW47CiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VEYXRhICYmIHR5cGVvZiByZXNwb25zZURhdGEgPT09ICdvYmplY3QnKSB7CiAgICAgICAgLy8g5aaC5p6c5LiN5piv5qCH5YeGUmVzdWx05a+56LGh77yM55u05o6l5L2/55So5pW05Liq5a+56LGh5L2c5Li655So5oi35pWw5o2uCiAgICAgICAgdXNlciA9IHJlc3BvbnNlRGF0YTsKICAgICAgfQoKICAgICAgaWYgKCF1c2VyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign55m75b2V5Zue6LCD5pWw5o2u5qC85byP6ZSZ6K+v77yM5peg5rOV5o+Q5Y+W55So5oi35L+h5oGvOicsIHJlc3BvbnNlRGF0YSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdXNlcjsKICAgICAgLy8g5qC55o2u5ZCO56uvVXNlcuWunuS9k+exu++8jOS9v+eUqHVzZXJpZOWtl+autQogICAgICB0aGlzLmN1cnJlbnRVc2VySWQgPSB1c2VyLnVzZXJpZCB8fCB1c2VyLmlkIHx8IHVzZXIudXNlcklkOwoKICAgICAgLy8g56Gu5L+dSUTlrZjlnKgKICAgICAgaWYgKCF0aGlzLmN1cnJlbnRVc2VySWQpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ+eUqOaIt0lE5pyq5om+5Yiw77yM5bCd6K+V5LuO5YW25LuW5a2X5q615o+Q5Y+WJyk7CiAgICAgICAgdGhpcy5jdXJyZW50VXNlcklkID0gdXNlci51c2VyaWQgfHwgdXNlci5pZCB8fCB1c2VyLnVzZXJJZDsKICAgICAgfQoKICAgICAgdGhpcy5hdXRoRGlhbG9nVmlzaWJsZSA9IGZhbHNlOyAvLyDnmbvlvZXmiJDlip/lkI7oh6rliqjlhbPpl63nmbvlvZXlr7nor53moYYKICAgICAgdGhpcy5hY3RpdmVUYWIgPSBudWxsOyAvLyDnmbvlvZXmiJDlip/lkI7mmL7npLrpppbpobUKCiAgICAgIC8vIOS/neWtmOeUqOaIt+S/oeaBr+WIsOacrOWcsOWtmOWCqAogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTsKICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwogICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS50b2tlbikgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlc3BvbnNlRGF0YS50b2tlbik7CiAgICAgIH0KCiAgICAgIC8vIOS9v+eUqCRuZXh0VGlja+ehruS/nURPTeabtOaWsOWQjuWGjeaYvuekuua2iOaBr++8jOmBv+WFjVVJ6Zeq54OBCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAvLyDmmL7npLrmrKLov47mtojmga/vvIzkvJjlhYjkvb/nlKh1c2VybmFtZeWtl+autQogICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlci51c2VybmFtZSB8fCB1c2VyLnVzcmVuYW1lIHx8ICfnlKjmiLcnOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyhg5qyi6L+O5Zue5p2l77yMJHt1c2VybmFtZX3vvIFgKTsKICAgICAgfSk7CgogICAgICAvLyDojrflj5bmjqjojZDnlLXlvbEKICAgICAgdGhpcy5nZXRSZWNvbW1lbmRNb3ZpZXNGb3JVc2VyKCk7CgogICAgICAvLyDojrflj5bnn6Xor4blm77osLHpooTop4jmlbDmja4KICAgICAgdGhpcy5sb2FkR3JhcGhQcmV2aWV3RGF0YSgpOwoKICAgICAgLy8g5by65Yi25pu05paw6KeG5Zu+CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICB9LAoKICAgIC8vIOiOt+WPluaOqOiNkOeUteW9sQogICAgYXN5bmMgZ2V0UmVjb21tZW5kTW92aWVzRm9yVXNlcigpIHsKICAgICAgaWYgKCF0aGlzLmN1cnJlbnRVc2VyIHx8ICF0aGlzLmN1cnJlbnRVc2VySWQpIHJldHVybjsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgLy8g5L2/55SoUE9TVOaWueW8j+WPkemAgeaOqOiNkOivt+axgu+8jOaUr+aMgeivt+axguS9k+S4reeahGludGVudOWPguaVsAogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldFJlY29tbWVuZE1vdmllc1Bvc3QoewogICAgICAgICAgdXNlcklkOiB0aGlzLmN1cnJlbnRVc2VySWQsCiAgICAgICAgICB0b3BOOiA2IC8vIOWPquiOt+WPljbpg6jnlLXlvbHnlKjkuo7pppbpobXlsZXnpLoKICAgICAgICB9KTsKICAgICAgICB0aGlzLnJlY29tbWVuZE1vdmllcyA9IHJlcy5kYXRhIHx8IFtdOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluaOqOiNkOe7k+aenOWksei0pe+8gScsIGVycm9yKTsKICAgICAgICAvLyDlpoLmnpzmjqjojZDlpLHotKXvvIzojrflj5bkuIDkupvng63pl6jnlLXlvbHkvZzkuLrlpIfpgIkKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYC9hcGkvbW92aWUvbGlzdD9wYWdlPTAmc2l6ZT02YCk7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmRhdGEpIHsKICAgICAgICAgICAgdGhpcy5yZWNvbW1lbmRNb3ZpZXMgPSByZXNwb25zZS5kYXRhLmRhdGEgfHwgW107CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W54Ot6Zeo55S15b2x5aSx6LSl77yBJywgZSk7CiAgICAgICAgICB0aGlzLnJlY29tbWVuZE1vdmllcyA9IFtdOwogICAgICAgIH0KICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICAvLyDliqDovb3nn6Xor4blm77osLHpooTop4jmlbDmja4KICAgIGFzeW5jIGxvYWRHcmFwaFByZXZpZXdEYXRhKCkgewogICAgICB0cnkgewogICAgICAgIC8vIOS7juWQjuerr0FQSeiOt+WPluefpeivhuWbvuiwseaVsOaNrgogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAvYXBpL2tnL2dyYXBoLWRhdGE/bW92aWVDb3VudD0ke3RoaXMuZ3JhcGhNb3ZpZUNvdW50fWApOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEuZGF0YSkgewogICAgICAgICAgY29uc3QgZ3JhcGhEYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgY29uc3Qgbm9kZXMgPSBncmFwaERhdGEubm9kZXMgfHwgW107CgogICAgICAgICAgLy8g6YCJ5Y+W5YmNMTDkuKroioLngrnkvZzkuLrpooTop4gKICAgICAgICAgIHRoaXMuZ3JhcGhQcmV2aWV3Tm9kZXMgPSBub2Rlcy5zbGljZSgwLCAxMCkubWFwKGl0ZW0gPT4gewogICAgICAgICAgICBsZXQgY29sb3I7CiAgICAgICAgICAgIHN3aXRjaChpdGVtLnR5cGUpIHsKICAgICAgICAgICAgICBjYXNlICdtb3ZpZSc6CiAgICAgICAgICAgICAgICBjb2xvciA9ICcjNUI4RkY5JzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgJ2RpcmVjdG9yJzoKICAgICAgICAgICAgICAgIGNvbG9yID0gJyM1QUQ4QTYnOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSAnYWN0b3InOgogICAgICAgICAgICAgICAgY29sb3IgPSAnIzVENzA5Mic7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgY29sb3IgPSAnI0NERERGRCc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSwKICAgICAgICAgICAgICBjb2xvcjogY29sb3IKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIOe7n+iuoeWQhOexu+iKgueCueaVsOmHjwogICAgICAgICAgdGhpcy5ncmFwaFN0YXRzID0gewogICAgICAgICAgICBtb3ZpZXM6IG5vZGVzLmZpbHRlcihub2RlID0+IG5vZGUudHlwZSA9PT0gJ21vdmllJykubGVuZ3RoLAogICAgICAgICAgICBkaXJlY3RvcnM6IG5vZGVzLmZpbHRlcihub2RlID0+IG5vZGUudHlwZSA9PT0gJ2RpcmVjdG9yJykubGVuZ3RoLAogICAgICAgICAgICBhY3RvcnM6IG5vZGVzLmZpbHRlcihub2RlID0+IG5vZGUudHlwZSA9PT0gJ2FjdG9yJykubGVuZ3RoCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDlpoLmnpxBUEnosIPnlKjlpLHotKXvvIzorr7nva7pu5jorqTlgLwKICAgICAgICAgIHRoaXMuZ3JhcGhQcmV2aWV3Tm9kZXMgPSBbXTsKICAgICAgICAgIHRoaXMuZ3JhcGhTdGF0cyA9IHsgbW92aWVzOiAwLCBkaXJlY3RvcnM6IDAsIGFjdG9yczogMCB9OwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bnn6Xor4blm77osLHpooTop4jmlbDmja7lpLHotKU6JywgZXJyb3IpOwogICAgICAgIC8vIOiuvue9rum7mOiupOWAvAogICAgICAgIHRoaXMuZ3JhcGhQcmV2aWV3Tm9kZXMgPSBbXTsKICAgICAgICB0aGlzLmdyYXBoU3RhdHMgPSB7IG1vdmllczogMCwgZGlyZWN0b3JzOiAwLCBhY3RvcnM6IDAgfTsKICAgICAgfQogICAgfSwKCiAgICAvLyDojrflj5boioLngrnnsbvlnovlkI3np7AKICAgIGdldE5vZGVUeXBlTmFtZSh0eXBlKSB7CiAgICAgIGNvbnN0IHR5cGVNYXAgPSB7CiAgICAgICAgJ21vdmllJzogJ+eUteW9sScsCiAgICAgICAgJ2RpcmVjdG9yJzogJ+WvvOa8lCcsCiAgICAgICAgJ2FjdG9yJzogJ+a8lOWRmCcsCiAgICAgICAgJ2dlbnJlJzogJ+exu+WeiycsCiAgICAgICAgJ3JlZ2lvbic6ICflnLDljLonCiAgICAgIH07CiAgICAgIHJldHVybiB0eXBlTWFwW3R5cGVdIHx8IHR5cGU7CiAgICB9LAoKICAgIC8vIOmAgOWHuueZu+W9lQogICAgbG9nb3V0KCkgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7lrpropoHpgIDlh7rnmbvlvZXlkJfvvJ8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5jbGVhclVzZXJTZXNzaW9uKCk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflt7LpgIDlh7rnmbvlvZUnKTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIC8vIOWPlua2iOmAgOWHugogICAgICB9KTsKICAgIH0sCgogICAgLy8g5YiH5o2i5qCH562+6aG1CiAgICBzd2l0Y2hUYWIodGFiKSB7CiAgICAgIHRoaXMuYWN0aXZlVGFiID0gdGFiOwogICAgfSwKCiAgICAvLyDlpITnkIbmjqjojZDor7fmsYIKICAgIGFzeW5jIGhhbmRsZUdldFJlY29tbWVuZChwYXJhbXMpIHsKICAgICAgLy8g5aaC5p6c55So5oi35pyq55m75b2V77yM5o+Q56S655m75b2VCiAgICAgIGlmICghdGhpcy5jdXJyZW50VXNlcikgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+35YWI55m75b2V5Lul6I635b6X5Liq5oCn5YyW5o6o6I2QJyk7CiAgICAgICAgdGhpcy5hdXRoRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnNob3dUaXRsZSA9IHRydWU7IC8vIOaYvuekuuagh+mimAogICAgICB0cnkgewogICAgICAgIC8vIOS9v+eUqFBPU1TmlrnlvI/lj5HpgIHmjqjojZDor7fmsYLvvIzmlK/mjIHor7fmsYLkvZPkuK3nmoRpbnRlbnTlj4LmlbAKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRSZWNvbW1lbmRNb3ZpZXNQb3N0KHsKICAgICAgICAgIHVzZXJJZDogcGFyYW1zLnVzZXJJZCB8fCB0aGlzLmN1cnJlbnRVc2VySWQsCiAgICAgICAgICB0b3BOOiBwYXJhbXMudG9wTiwKICAgICAgICAgIGludGVudDogcGFyYW1zLmludGVudAogICAgICAgIH0pOwogICAgICAgIHRoaXMuY3VycmVudE1vdmllcyA9IHJlcy5kYXRhIHx8IFtdOwogICAgICAgIHRoaXMucmVjb21tZW5kTW92aWVzID0gdGhpcy5jdXJyZW50TW92aWVzOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluaOqOiNkOe7k+aenOWksei0pe+8gScpCiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcikKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB9CiAgICB9LAoKICAgIC8vIOiOt+WPluWFqOmDqOeUteW9sQogICAgYXN5bmMgaGFuZGxlR2V0QWxsTW92aWVzKHBhcmFtcykgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnNob3dUaXRsZSA9IGZhbHNlOyAvLyDkuI3mmL7npLoi5o6o6I2Q57uT5p6cIuagh+mimAogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAvYXBpL21vdmllL2xpc3Q/cGFnZT0ke3BhcmFtcy5wYWdlIHx8IDB9JnNpemU9JHtwYXJhbXMuc2l6ZSB8fCAyMH1gKTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmRhdGEpIHsKICAgICAgICAgIHRoaXMuYWxsTW92aWVzID0gcmVzcG9uc2UuZGF0YS5kYXRhIHx8IFtdOwogICAgICAgICAgdGhpcy5jdXJyZW50TW92aWVzID0gdGhpcy5hbGxNb3ZpZXM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYWxsTW92aWVzID0gW107CiAgICAgICAgICB0aGlzLmN1cnJlbnRNb3ZpZXMgPSBbXTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W55S15b2x5YiX6KGo5aSx6LSl77yBJykKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKQogICAgICAgIHRoaXMuYWxsTW92aWVzID0gW107CiAgICAgICAgdGhpcy5jdXJyZW50TW92aWVzID0gW107CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfQogICAgfSwKCiAgICAvLyDmmL7npLrlhajpg6jnlLXlvbEKICAgIHNob3dBbGxNb3ZpZXMoKSB7CiAgICAgIHRoaXMuY3VycmVudE1vdmllcyA9IHRoaXMuYWxsTW92aWVzOwogICAgICB0aGlzLnNob3dUaXRsZSA9IGZhbHNlOyAvLyDkuI3mmL7npLoi5o6o6I2Q57uT5p6cIuagh+mimAogICAgfSwKCiAgICAvLyDlpITnkIbnlLXlvbHngrnlh7vkuovku7YKICAgIGhhbmRsZU1vdmllQ2xpY2sobW92aWUpIHsKICAgICAgdGhpcy5zZWxlY3RlZE1vdmllID0gbW92aWU7CiAgICAgIHRoaXMuZGV0YWlsRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAoKICAgIC8vIOagvOW8j+WMluWvvOa8lOWQjeensAogICAgZ2V0RGlyZWN0b3JOYW1lcyhkaXJlY3RvcnMpIHsKICAgICAgaWYgKCFkaXJlY3RvcnMgfHwgZGlyZWN0b3JzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICfmnKrnn6UnOwogICAgICByZXR1cm4gZGlyZWN0b3JzLm1hcChpdGVtID0+IGl0ZW0ubmFtZSkuam9pbign44CBJyk7CiAgICB9LAoKICAgIC8vIOagvOW8j+WMlua8lOWRmOWQjeensAogICAgZ2V0QWN0b3JOYW1lcyhhY3RvcnMpIHsKICAgICAgaWYgKCFhY3RvcnMgfHwgYWN0b3JzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICfmnKrnn6UnOwogICAgICByZXR1cm4gYWN0b3JzLm1hcChpdGVtID0+IGl0ZW0ubmFtZSkuam9pbign44CBJyk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;AA2MA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <el-container style=\"min-height: 100vh;\">\n<el-header class=\"header-container\">\n  <div class=\"header-content\">\n    <div class=\"logo-section\">\n      <i class=\"el-icon-film\" style=\"font-size: 24px; margin-right: 10px;\"></i>\n      <span class=\"logo-text gradient-text\">电影推荐系统</span>\n    </div>\n    <div class=\"nav-section\">\n      <template v-if=\"!currentUser\">\n        <el-button\n          type=\"primary\"\n          plain\n          @click=\"showLoginDialog\"\n          class=\"auth-button\"\n        >\n          <i class=\"el-icon-user\"></i> 登录/注册\n        </el-button>\n      </template>\n      <template v-else>\n        <el-button-group class=\"nav-buttons\">\n          <el-button\n            type=\"primary\"\n            plain\n            :class=\"{ 'nav-active': activeTab === 'recommend' }\"\n            @click=\"switchTab('recommend')\"\n          >\n            <i class=\"el-icon-star-on\"></i> 推荐\n          </el-button>\n          <el-button\n            type=\"primary\"\n            plain\n            :class=\"{ 'nav-active': activeTab === 'browse' }\"\n            @click=\"switchTab('browse')\"\n          >\n            <i class=\"el-icon-search\"></i> 浏览\n          </el-button>\n          <el-button\n            type=\"primary\"\n            plain\n            :class=\"{ 'nav-active': activeTab === 'graph' }\"\n            @click=\"switchTab('graph')\"\n          >\n            <i class=\"el-icon-s-data\"></i> 知识图谱\n          </el-button>\n        </el-button-group>\n        <span class=\"user-welcome\">欢迎，{{ currentUser.username }}</span>\n        <el-button\n          type=\"success\"\n          plain\n          @click=\"openAIAssistant\"\n          class=\"ai-assistant-button\"\n        >\n          <i class=\"el-icon-chat-dot-round\"></i> AI助手\n        </el-button>\n        <el-button\n          type=\"info\"\n          plain\n          @click=\"logout\"\n          class=\"logout-button\"\n        >\n          <i class=\"el-icon-switch-button\"></i> 退出\n        </el-button>\n      </template>\n    </div>\n  </div>\n</el-header>\n      <el-main>\n        <!-- 用户未登录时直接显示浏览界面 -->\n        <div v-if=\"!currentUser && !activeTab\" class=\"browse-container\">\n          <div class=\"layout-wrapper\">\n            <div class=\"main-content\">\n              <MovieBrowse\n                :movies=\"currentMovies\"\n                :loading=\"loading\"\n                :show-title=\"true\"\n                @movie-click=\"handleMovieClick\"\n              />\n            </div>\n\n          </div>\n        </div>\n\n        <!-- 登录成功后的首页，只显示欢迎信息和功能介绍 -->\n        <div v-if=\"currentUser && !activeTab\" class=\"dashboard-container\">\n          <div class=\"dashboard-header slide-in\">\n            <h2>欢迎回来，{{ currentUser.username }}！</h2>\n            <p>探索电影世界的无限精彩</p>\n          </div>\n\n          <el-row :gutter=\"20\">\n            <el-col :span=\"24\">\n              <el-card class=\"dashboard-card\" shadow=\"hover\">\n                <div slot=\"header\" class=\"dashboard-card-header\">\n                  <span><i class=\"el-icon-menu\"></i> 功能导航</span>\n                </div>\n                <div class=\"features-grid\">\n                  <el-card class=\"feature-card\" @click.native=\"switchTab('recommend')\">\n                    <div class=\"feature-content\">\n                      <i class=\"el-icon-star-on feature-icon\" style=\"color: #e6a23c;\"></i>\n                      <h3>个性化推荐</h3>\n                      <p>基于AI算法的智能电影推荐</p>\n                    </div>\n                  </el-card>\n                  <el-card class=\"feature-card\" @click.native=\"switchTab('browse')\">\n                    <div class=\"feature-content\">\n                      <i class=\"el-icon-search feature-icon\" style=\"color: #409eff;\"></i>\n                      <h3>电影浏览</h3>\n                      <p>按类型、评分等条件浏览电影</p>\n                    </div>\n                  </el-card>\n                  <el-card class=\"feature-card\" @click.native=\"switchTab('graph')\">\n                    <div class=\"feature-content\">\n                      <i class=\"el-icon-s-data feature-icon\" style=\"color: #67c23a;\"></i>\n                      <h3>知识图谱</h3>\n                      <p>探索电影、导演、演员之间的关系</p>\n                    </div>\n                  </el-card>\n                </div>\n              </el-card>\n            </el-col>\n          </el-row>\n        </div>\n\n        <!-- 推荐页面 -->\n        <div v-if=\"activeTab === 'recommend'\" class=\"recommend-container\">\n          <div class=\"layout-wrapper\">\n            <div class=\"main-content\">\n              <MovieList\n                :movies=\"currentMovies\"\n                :loading=\"loading\"\n                :show-title=\"showTitle\"\n                @movie-click=\"handleMovieClick\"\n              />\n            </div>\n\n          </div>\n        </div>\n\n        <!-- 浏览页面 -->\n        <div v-if=\"activeTab === 'browse'\" class=\"browse-container\">\n          <div class=\"layout-wrapper\">\n            <div class=\"main-content\">\n              <MovieBrowse\n                :movies=\"currentMovies\"\n                :loading=\"loading\"\n                :show-title=\"true\"\n                @movie-click=\"handleMovieClick\"\n              />\n            </div>\n\n          </div>\n        </div>\n\n        <!-- 知识图谱页面 -->\n        <div v-if=\"activeTab === 'graph'\">\n          <KnowledgeGraph :current-user=\"currentUser\" />\n        </div>\n\n        <!-- 电影详情弹窗 -->\n        <el-dialog title=\"电影详情\" :visible.sync=\"detailDialogVisible\" width=\"60%\">\n          <div v-if=\"selectedMovie\">\n            <h3>{{ selectedMovie.movieName }}</h3>\n            <p><strong>类型：</strong>{{ selectedMovie.type || '未知' }}</p>\n            <p><strong>地区：</strong>{{ selectedMovie.direction || '未知' }}</p>\n            <p><strong>评分：</strong>{{ selectedMovie.rating || '暂无评分' }}</p>\n            <p><strong>导演：</strong>{{ getDirectorNames(selectedMovie.directors) }}</p>\n            <p><strong>演员：</strong>{{ getActorNames(selectedMovie.actors) }}</p>\n            <p><strong>简介：</strong>{{ selectedMovie.instruction || '暂无介绍' }}</p>\n          </div>\n        </el-dialog>\n\n        <!-- 用户认证弹窗 -->\n        <el-dialog\n          :title=\"authDialogTitle\"\n          :visible.sync=\"authDialogVisible\"\n          width=\"40%\"\n          :close-on-click-modal=\"false\"\n          :close-on-press-escape=\"false\"\n        >\n          <UserAuth @login-success=\"handleLoginSuccess\" />\n        </el-dialog>\n      </el-main>\n<el-footer class=\"footer-container\">\n  <div class=\"footer-content\">\n    <div class=\"footer-text\">\n      <i class=\"el-icon-film\" style=\"margin-right: 8px;\"></i>\n      电影推荐系统 ©2025\n    </div>\n    <div class=\"footer-links\">\n      <span class=\"footer-link\">关于我们</span>\n      <span class=\"footer-link\">隐私政策</span>\n      <span class=\"footer-link\">帮助中心</span>\n    </div>\n  </div>\n</el-footer>\n    </el-container>\n  </div>\n</template>\n\n<script>\n\nimport MovieList from './components/MovieList.vue'\nimport MovieBrowse from './components/MovieBrowse.vue'\nimport UserAuth from './components/UserAuth.vue'\nimport KnowledgeGraph from './components/KnowledgeGraph.vue'\nimport { getRecommendMoviesPost, getMovieDetail } from './api/recommend'\nimport axios from 'axios'\n\nexport default {\n  name: 'App',\n  components: {\n    MovieList,\n    MovieBrowse,\n    UserAuth,\n    KnowledgeGraph\n  },\n    data() {\n      return {\n        recommendMovies: [],\n        allMovies: [],\n        currentMovies: [], // 当前显示的电影列表\n        loading: false,\n        detailDialogVisible: false,\n        selectedMovie: null,\n        showTitle: true,\n        authDialogVisible: false,\n        currentUser: null,\n        currentUserId: null,\n        activeTab: null, // 默认为null，显示首页\n        // 知识图谱预览相关数据\n        graphPreviewNodes: [],\n        graphStats: {\n          movies: 0,\n          directors: 0,\n          actors: 0\n        },\n        // 首页特性列表\n        features: [\n          {\n            id: 1,\n            icon: 'el-icon-star-on',\n            title: '智能推荐',\n            description: '基于AI算法的个性化推荐',\n            color: '#e6a23c'\n          },\n          {\n            id: 2,\n            icon: 'el-icon-s-data',\n            title: '知识图谱',\n            description: '电影关系可视化展示',\n            color: '#409eff'\n          },\n          {\n            id: 3,\n            icon: 'el-icon-search',\n            title: '智能搜索',\n            description: '快速找到您想看的电影',\n            color: '#67c23a'\n          }\n        ]\n      }\n    },\n  computed: {\n    authDialogTitle() {\n      return this.currentUser ? '用户中心' : '登录/注册';\n    }\n  },\n  created() {\n    // 尝试从本地存储恢复用户会话\n    this.restoreUserSession();\n    // 如果用户未登录，默认显示浏览页面；如果已登录，默认显示首页\n    if (!this.currentUser) {\n      this.activeTab = 'browse';\n      this.handleGetAllMovies({ page: 0, size: 20 });\n    }\n  },\n  methods: {\n    // 恢复用户会话\n    restoreUserSession() {\n      const userStr = localStorage.getItem('user');\n      const token = localStorage.getItem('token');\n      if (userStr && userStr !== 'undefined' && userStr !== 'null' && token) {\n        try {\n          this.currentUser = JSON.parse(userStr);\n          this.currentUserId = this.currentUser.userid || this.currentUser.id || this.currentUser.userId; // 尝试多个可能的字段名\n        } catch (e) {\n          console.error('恢复用户会话失败', e);\n          this.clearUserSession();\n        }\n      }\n    },\n\n    // 清除用户会话\n    clearUserSession() {\n      localStorage.removeItem('user');\n      localStorage.removeItem('token');\n      this.currentUser = null;\n      this.currentUserId = null;\n      this.activeTab = null; // 返回首页\n    },\n\n    // 显示登录对话框\n    showLoginDialog() {\n      this.authDialogVisible = true;\n    },\n\n    // 处理登录成功事件\n    async handleLoginSuccess(responseData) {\n      console.log('登录回调数据:', responseData); // 调试日志\n\n      // 后端返回的是Result<User>对象，直接从responseData.data中提取用户信息\n      let user = null;\n      let token = null;\n\n      // 检查是否是标准的Result对象格式\n      if (responseData && typeof responseData === 'object' && responseData.data) {\n        user = responseData.data;\n        token = responseData.token;\n      } else if (responseData && typeof responseData === 'object') {\n        // 如果不是标准Result对象，直接使用整个对象作为用户数据\n        user = responseData;\n      }\n\n      if (!user) {\n        console.error('登录回调数据格式错误，无法提取用户信息:', responseData);\n        return;\n      }\n\n      this.currentUser = user;\n      // 根据后端User实体类，使用userid字段\n      this.currentUserId = user.userid || user.id || user.userId;\n\n      // 确保ID存在\n      if (!this.currentUserId) {\n        console.warn('用户ID未找到，尝试从其他字段提取');\n        this.currentUserId = user.userid || user.id || user.userId;\n      }\n\n      this.authDialogVisible = false; // 登录成功后自动关闭登录对话框\n      this.activeTab = null; // 登录成功后显示首页\n\n      // 保存用户信息到本地存储\n      localStorage.setItem('user', JSON.stringify(user));\n      if (token) {\n        localStorage.setItem('token', token);\n      } else if (responseData.token) {\n        localStorage.setItem('token', responseData.token);\n      }\n\n      // 使用$nextTick确保DOM更新后再显示消息，避免UI闪烁\n      this.$nextTick(() => {\n        // 显示欢迎消息，优先使用username字段\n        const username = user.username || user.usrename || '用户';\n        this.$message.success(`欢迎回来，${username}！`);\n      });\n\n      // 获取推荐电影\n      this.getRecommendMoviesForUser();\n\n      // 获取知识图谱预览数据\n      this.loadGraphPreviewData();\n\n      // 强制更新视图\n      this.$forceUpdate();\n    },\n\n    // 获取推荐电影\n    async getRecommendMoviesForUser() {\n      if (!this.currentUser || !this.currentUserId) return;\n\n      this.loading = true;\n      try {\n        // 使用POST方式发送推荐请求，支持请求体中的intent参数\n        const res = await getRecommendMoviesPost({\n          userId: this.currentUserId,\n          topN: 6 // 只获取6部电影用于首页展示\n        });\n        this.recommendMovies = res.data || [];\n      } catch (error) {\n        console.error('获取推荐结果失败！', error);\n        // 如果推荐失败，获取一些热门电影作为备选\n        try {\n          const response = await axios.get(`/api/movie/list?page=0&size=6`);\n          if (response.data && response.data.data) {\n            this.recommendMovies = response.data.data || [];\n          }\n        } catch (e) {\n          console.error('获取热门电影失败！', e);\n          this.recommendMovies = [];\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    // 加载知识图谱预览数据\n    async loadGraphPreviewData() {\n      try {\n        // 从后端API获取知识图谱数据\n        const response = await axios.get(`/api/kg/graph-data?movieCount=${this.graphMovieCount}`);\n        if (response.data && response.data.code === 200 && response.data.data) {\n          const graphData = response.data.data;\n          const nodes = graphData.nodes || [];\n\n          // 选取前10个节点作为预览\n          this.graphPreviewNodes = nodes.slice(0, 10).map(item => {\n            let color;\n            switch(item.type) {\n              case 'movie':\n                color = '#5B8FF9';\n                break;\n              case 'director':\n                color = '#5AD8A6';\n                break;\n              case 'actor':\n                color = '#5D7092';\n                break;\n              default:\n                color = '#CDDDFD';\n            }\n\n            return {\n              id: item.id,\n              name: item.name,\n              type: item.type,\n              color: color\n            };\n          });\n\n          // 统计各类节点数量\n          this.graphStats = {\n            movies: nodes.filter(node => node.type === 'movie').length,\n            directors: nodes.filter(node => node.type === 'director').length,\n            actors: nodes.filter(node => node.type === 'actor').length\n          };\n        } else {\n          // 如果API调用失败，设置默认值\n          this.graphPreviewNodes = [];\n          this.graphStats = { movies: 0, directors: 0, actors: 0 };\n        }\n      } catch (error) {\n        console.error('获取知识图谱预览数据失败:', error);\n        // 设置默认值\n        this.graphPreviewNodes = [];\n        this.graphStats = { movies: 0, directors: 0, actors: 0 };\n      }\n    },\n\n    // 获取节点类型名称\n    getNodeTypeName(type) {\n      const typeMap = {\n        'movie': '电影',\n        'director': '导演',\n        'actor': '演员',\n        'genre': '类型',\n        'region': '地区'\n      };\n      return typeMap[type] || type;\n    },\n\n    // 退出登录\n    logout() {\n      this.$confirm('确定要退出登录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.clearUserSession();\n        this.$message.success('已退出登录');\n      }).catch(() => {\n        // 取消退出\n      });\n    },\n\n    // 切换标签页\n    switchTab(tab) {\n      this.activeTab = tab;\n    },\n\n    // 处理推荐请求\n    async handleGetRecommend(params) {\n      // 如果用户未登录，提示登录\n      if (!this.currentUser) {\n        this.$message.warning('请先登录以获得个性化推荐');\n        this.authDialogVisible = true;\n        return;\n      }\n\n      this.loading = true;\n      this.showTitle = true; // 显示标题\n      try {\n        // 使用POST方式发送推荐请求，支持请求体中的intent参数\n        const res = await getRecommendMoviesPost({\n          userId: params.userId || this.currentUserId,\n          topN: params.topN,\n          intent: params.intent\n        });\n        this.currentMovies = res.data || [];\n        this.recommendMovies = this.currentMovies;\n      } catch (error) {\n        this.$message.error('获取推荐结果失败！')\n        console.error(error)\n      } finally {\n        this.loading = false\n      }\n    },\n\n    // 获取全部电影\n    async handleGetAllMovies(params) {\n      this.loading = true;\n      this.showTitle = false; // 不显示\"推荐结果\"标题\n      try {\n        const response = await axios.get(`/api/movie/list?page=${params.page || 0}&size=${params.size || 20}`);\n        if (response.data && response.data.data) {\n          this.allMovies = response.data.data || [];\n          this.currentMovies = this.allMovies;\n        } else {\n          this.allMovies = [];\n          this.currentMovies = [];\n        }\n      } catch (error) {\n        this.$message.error('获取电影列表失败！')\n        console.error(error)\n        this.allMovies = [];\n        this.currentMovies = [];\n      } finally {\n        this.loading = false\n      }\n    },\n\n    // 显示全部电影\n    showAllMovies() {\n      this.currentMovies = this.allMovies;\n      this.showTitle = false; // 不显示\"推荐结果\"标题\n    },\n\n    // 处理电影点击事件\n    handleMovieClick(movie) {\n      this.selectedMovie = movie;\n      this.detailDialogVisible = true;\n    },\n\n    // 格式化导演名称\n    getDirectorNames(directors) {\n      if (!directors || directors.length === 0) return '未知';\n      return directors.map(item => item.name).join('、');\n    },\n\n    // 格式化演员名称\n    getActorNames(actors) {\n      if (!actors || actors.length === 0) return '未知';\n      return actors.map(item => item.name).join('、');\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n.el-header, .el-footer {\n  background-color: #1989fa;\n  color: #fff;\n}\n.el-main {\n  background-color: #f5f7fa;\n  padding: 20px;\n}\n\n/* 浏览页面布局 */\n.browse-container {\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.recommend-sidebar {\n  position: sticky;\n  top: 20px;\n  height: fit-content;\n}\n\n/* 首页英雄区域样式 */\n.home-hero {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 40px 20px;\n}\n\n.hero-background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><defs><pattern id=\"grain\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\"><circle cx=\"50\" cy=\"50\" r=\"2\" fill=\"rgba(255,255,255,0.1)\"/></pattern></defs><rect width=\"100\" height=\"100\" fill=\"url(%23grain)\"/></svg>');\n}\n\n.hero-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n}\n\n.hero-content {\n  position: relative;\n  z-index: 2;\n  max-width: 1000px;\n  width: 100%;\n}\n\n.hero-card {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-radius: 20px;\n  padding: 40px;\n  text-align: center;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n}\n\n.hero-header {\n  margin-bottom: 40px;\n}\n\n.hero-title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin-bottom: 15px;\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.hero-subtitle {\n  font-size: 1.2rem;\n  color: #666;\n  line-height: 1.6;\n}\n\n.features-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 30px;\n  margin-bottom: 40px;\n}\n\n.feature-card {\n  padding: 30px;\n  background: white;\n  border-radius: 15px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\n  transition: all 0.3s ease;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n  text-align: center;\n}\n\n.feature-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);\n}\n\n.feature-icon {\n  font-size: 3rem;\n  margin-bottom: 20px;\n  transition: transform 0.3s ease;\n}\n\n.feature-card:hover .feature-icon {\n  transform: scale(1.1);\n}\n\n.feature-card h3 {\n  font-size: 1.3rem;\n  font-weight: 600;\n  margin-bottom: 15px;\n  color: #333;\n}\n\n.feature-card p {\n  color: #666;\n  line-height: 1.6;\n}\n\n.feature-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.hero-button {\n  padding: 15px 40px;\n  font-size: 1.1rem;\n  border-radius: 30px;\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  border: none;\n  font-weight: 600;\n}\n\n/* 用户仪表盘样式 */\n.dashboard-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.dashboard-header {\n  text-align: center;\n  margin-bottom: 40px;\n}\n\n.dashboard-header h2 {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #333;\n  margin-bottom: 10px;\n}\n\n.dashboard-header p {\n  font-size: 1.1rem;\n  color: #666;\n}\n\n.dashboard-card {\n  border-radius: 15px;\n  overflow: hidden;\n}\n\n.dashboard-card-header {\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: #333;\n  padding: 20px;\n  background: linear-gradient(135deg, #f5f7fa, #e4e8f0);\n}\n\n.view-full-graph-btn {\n  width: 100%;\n  border-radius: 8px;\n  margin-top: 15px;\n}\n\n/* 导航按钮样式 */\n  .nav-active {\n    background: linear-gradient(135deg, #409EFF, #337ecc) !important;\n    border-color: #409EFF !important;\n    color: #fff !important;\n    font-weight: 600;\n    box-shadow: 0 2px 8px rgba(64, 158, 255, 0.3);\n  }\n\n/* 头部样式 */\n.header-container {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: #fff;\n  padding: 0 20px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\n}\n\n.header-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 60px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.logo-section {\n  display: flex;\n  align-items: center;\n}\n\n.logo-text {\n  font-size: 22px;\n  font-weight: bold;\n  background: linear-gradient(135deg, #ff6b6b, #feca57);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.nav-section {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.nav-buttons .el-button {\n  border-radius: 20px;\n  padding: 10px 20px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n.nav-buttons .el-button:hover {\n  transform: translateY(-1px);\n}\n\n.user-welcome {\n  color: rgba(255, 255, 255, 0.9);\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.auth-button,\n.logout-button {\n  border-radius: 20px;\n  padding: 10px 20px;\n  font-weight: 500;\n}\n\n/* 底部样式 */\n.footer-container {\n  background: linear-gradient(135deg, #2c3e50, #34495e);\n  color: #fff;\n  padding: 20px;\n  margin-top: auto;\n}\n\n.footer-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.footer-text {\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n}\n\n.footer-links {\n  display: flex;\n  gap: 20px;\n}\n\n.footer-link {\n  cursor: pointer;\n  font-size: 12px;\n  opacity: 0.7;\n  transition: opacity 0.3s ease;\n}\n\n.footer-link:hover {\n  opacity: 1;\n  text-decoration: underline;\n}\n\n/* 知识图谱预览样式 */\n.graph-preview-container {\n  max-height: 300px;\n  overflow-y: auto;\n  margin-bottom: 10px;\n}\n\n.graph-node-item {\n  display: flex;\n  align-items: center;\n  padding: 8px;\n  border-bottom: 1px solid #eee;\n}\n\n.node-icon {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 12px;\n  font-weight: bold;\n  margin-right: 10px;\n  flex-shrink: 0;\n}\n\n.node-info {\n  flex: 1;\n  overflow: hidden;\n}\n\n.node-name {\n  font-size: 14px;\n  font-weight: bold;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: 2px;\n}\n\n.node-type {\n  font-size: 12px;\n  color: #666;\n}\n\n.no-data {\n  text-align: center;\n  color: #999;\n  padding: 20px;\n}\n\n.graph-stats-preview {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 10px;\n}\n\n/* 浏览页面布局 */\n.browse-container,\n.recommend-container {\n  max-width: 1600px;\n  margin: 0 auto;\n  padding: 0;\n}\n\n.layout-wrapper {\n  display: flex;\n  gap: 0;\n  width: 100%;\n}\n\n.main-content {\n  flex: 1;\n  min-width: 0; /* 防止内容溢出 */\n  padding-right: 0;\n}\n\n.sidebar-right {\n  width: 320px;\n  flex-shrink: 0;\n  margin-left: 0;\n  border-left: 1px solid #e0e0e0;\n}\n\n.recommend-sidebar {\n  position: sticky;\n  top: 10px;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  border-radius: 0;\n}\n\n/* 确保AI对话组件紧贴右侧 */\n.sidebar-right .ai-chat-recommend-container {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\n/* 移除AI组件的内部边距 */\n.sidebar-right .el-card {\n  margin: 0;\n  border-radius: 0;\n  border: none;\n}\n\n.sidebar-right .el-card__header {\n  padding: 15px 20px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.sidebar-right .el-card__body {\n  padding: 15px;\n}\n\n/* 响应式设计 */\n@media (max-width: 1200px) {\n  .sidebar-right {\n    width: 280px;\n  }\n}\n\n@media (max-width: 768px) {\n  .layout-wrapper {\n    flex-direction: column;\n  }\n\n  .sidebar-right {\n    width: 100%;\n    border-left: none;\n    border-top: 1px solid #e0e0e0;\n  }\n\n  .recommend-sidebar {\n    position: static;\n  }\n}\n</style>"]}]}